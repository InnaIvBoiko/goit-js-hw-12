{"version":3,"file":"commonHelpers.js","sources":["../src/img/error.svg","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__8479b7dd__\"","import axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport ErrorIcon from '../img/error.svg';\n\nconst keywords = document.querySelector('.keywords');\n\nconst API_KEY = '42438077-634a4b32cfcaa96ebaa8c4719';\nconst API_URL = 'https://pixabay.com/api/';\n\nasync function searchImg() {\n    const loading = document.querySelector('.loading');\n    const QUERY = encodeURIComponent(keywords.value);\n    const URL = `${API_URL}?key=${API_KEY}&q=${QUERY}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15`;\n    \n    const response = await axios.get(URL);\n    loading.classList.add('visually-hidden'); \n\n    return response.data;\n};\n\nconst errorMessage = () =>\n    iziToast.show({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: '#fff',\n        messageSize: '16',\n        backgroundColor: '#EF4040',\n        iconUrl: ErrorIcon,\n        position: 'topRight',\n        close: true,\n        layout: 2,\n        timeout: 2000\n    });\n\nexport { keywords, searchImg, errorMessage };","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\n   \nfunction markUp(images) {\n    const resalt = images.map((image) =>\n        `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${image.previewURL}\" \n                    alt=\"${image.tags}\"\n                />\n            </a>\n            <div class=\"gallery-info\">\n                <div class=\"column\">\n                    <h2>likes</h2>\n                    <p>${image.likes}</p>\n                </div>\n                <div class=\"column\">\n                    <h2>views</h2>\n                    <p>${image.views}</p>\n                </div>\n                 <div class=\"column\">\n                    <h2>comments</h2>\n                    <p>${image.comments}</p>\n                </div>\n                <div class=\"column\">\n                    <h2>downloads</h2>\n                    <p>${image.downloads}</p>\n                </div>\n            </div>\n        </li>`)\n        .join('');\n        \n    gallery.insertAdjacentHTML('beforeend', resalt);\n    const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n        captionPosition: 'bottom'\n    }).refresh();\n};      \n           \nexport { gallery, markUp };","import { keywords, searchImg, errorMessage } from './js/pixabay-api';\nimport { gallery, markUp } from \"./js/render-functions\";\n\nconst formSearch = document.querySelector('.form-search');\nconst showMoreBtn = document.querySelector('.btn-more');\nlet page = 1;\n\nformSearch.addEventListener('submit', (event) => {\n    event.preventDefault();\n\n    const loading = document.querySelector('.loading');\n    gallery.innerHTML = '';\n    page = 1;\n    \n    if (keywords.value) {\n        loading.classList.remove('visually-hidden');\n\n        searchImg()\n            .then(data => {\n                if (parseInt(data.totalHits) > 0) {\n                    showMoreBtn.classList.remove('visually-hidden');\n                    return data.hits;\n                };\n            })\n            .then((images) => {\n                markUp(images);\n            })\n            .catch(() => {\n                errorMessage();\n            })\n            .finally(() => {\n                formSearch.reset();\n            });\n    };\n   \n});\n\nshowMoreBtn.addEventListener('click', () => {\n    page++;\n    \n});\n\n"],"names":["ErrorIcon","keywords","API_KEY","API_URL","searchImg","loading","QUERY","URL","response","axios","errorMessage","iziToast","gallery","markUp","images","resalt","image","SimpleLightbox","formSearch","showMoreBtn","event","data"],"mappings":"owBAAA,MAAeA,EAAA,2CCOTC,EAAW,SAAS,cAAc,WAAW,EAE7CC,EAAU,qCACVC,EAAU,2BAEhB,eAAeC,GAAY,CACvB,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAQ,mBAAmBL,EAAS,KAAK,EACzCM,EAAM,GAAGJ,CAAO,QAAQD,CAAO,MAAMI,CAAK,uEAE1CE,EAAW,MAAMC,EAAM,IAAIF,CAAG,EACpC,OAAAF,EAAQ,UAAU,IAAI,iBAAiB,EAEhCG,EAAS,IACpB,CAEA,MAAME,EAAe,IACjBC,EAAS,KAAK,CACV,QAAS,2EACT,aAAc,OACd,YAAa,KACb,gBAAiB,UACjB,QAASX,EACT,SAAU,WACV,MAAO,GACP,OAAQ,EACR,QAAS,GACjB,CAAK,EC/BCY,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAOC,EAAQ,CACpB,MAAMC,EAASD,EAAO,IAAKE,GACvB;AAAA,4CACoCA,EAAM,aAAa;AAAA;AAAA;AAAA,2BAGpCA,EAAM,UAAU;AAAA,2BAChBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAMZA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,yBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,yBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,yBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,cAG1B,EACL,KAAK,EAAE,EAEZJ,EAAQ,mBAAmB,YAAaG,CAAM,EAC7B,IAAIE,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,IACd,gBAAiB,QACpB,CAAA,EAAE,QAAU,CACjB,CCvCA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,WAAW,EAGtDD,EAAW,iBAAiB,SAAWE,GAAU,CAC7CA,EAAM,eAAc,EAEpB,MAAMf,EAAU,SAAS,cAAc,UAAU,EACjDO,EAAQ,UAAY,GAGhBX,EAAS,QACTI,EAAQ,UAAU,OAAO,iBAAiB,EAE1CD,EAAW,EACN,KAAKiB,GAAQ,CACV,GAAI,SAASA,EAAK,SAAS,EAAI,EAC3B,OAAAF,EAAY,UAAU,OAAO,iBAAiB,EACvCE,EAAK,KAEnB,EACA,KAAMP,GAAW,CACdD,EAAOC,CAAM,CAC7B,CAAa,EACA,MAAM,IAAM,CACTJ,GAChB,CAAa,EACA,QAAQ,IAAM,CACXQ,EAAW,MAAK,CAChC,CAAa,EAGb,CAAC,EAEDC,EAAY,iBAAiB,QAAS,IAAM,CAG5C,CAAC"}